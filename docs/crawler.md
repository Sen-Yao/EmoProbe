# Python爬虫接口

## 命令行调用

**使用方法**
> python crawler.py -bv <视频BV号>

**命令行参数选项**

* -bv <视频BV号>：（必填项）添加后将对此BV号的视频进行爬取
* -o <文件保存路径>：（非必填项）添加后，视频信息将不再打印到标准输出，而是保存到指定路径的文件，如果路径上已经存在文件，则原本文件的内容将被覆盖。

**效果**

将从标准输出打印结果字符串，字符串以json格式组织，内容如下

根对象：

| 字段    | 类型 | 内容     | 备注                          |
| ------- | ---- | -------- | ----------------------------- |
| code    | num  | 返回值   |  0：成功<br /> 1：失败 |
| msg | str  | 错误信息 | 默认为空字符串                       |
| data | obj  | 爬取结果 | 如果code为1，则data字段将为空对象                       |

data对象：
| 字段    | 类型 | 内容     | 备注                          |
| ------- | ---- | -------- | ----------------------------- |
| bv    | str  | 视频bv号   |  形式：“BVXXXXXX” |
| like | num  | 点赞数 |                        |
| coin | num  | 投币数 |                        |
| favorite | num  | 收藏数|                      |
| time     | str  | 发布时间        |   示例："2023-10-08 12:40:32"                            |
| comments | list  | 评论信息 |                        |

comments对象为一列表，其中所有列表项均为以下对象：

| 字段  | 类型 | 内容     | 备注                          |
| ------- | ---- | -------- | ----------------------------- |
| name    | str  | 用户名   |  |
| sex | str  | 性别 | 有“保密”、“男”、“女”                       |
| time     | str  | 发布时间        |   示例："2023-10-08 12:40:32"                            |
| content     | str  | 评论内容        |                               |
| likeNum     | num  | 点赞数量        |                               |
| commentNum     | num  | 子评论数量        |                               |
| IP     | str  | IP地址        |                               |

## Python调用