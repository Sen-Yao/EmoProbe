<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.minjer.mapper.CommentMapper">

    <resultMap id="CommentResultMap" type="com.minjer.pojo.Comment">
        <result column="user_uid" property="userId"/>
        <result column="user_name" property="userName"/>
        <result column="user_ip" property="userIp"/>
        <result column="user_sex" property="userSex"/>
        <result column="comment_date" property="commentDate"/>
        <result column="comment_text" property="commentText"/>
        <result column="comment_like" property="commentLike"/>
        <result column="comment_reply" property="commentReply"/>
        <result column="comment_emotion" property="commentEmotion"/>
        <result column="video_bvid" property="videoBvid"/>
    </resultMap>

    <insert id="addComments" parameterType="java.util.List">
        insert into comment(user_uid, user_name, user_ip, user_sex, comment_date, comment_text, comment_like,
        comment_reply, comment_emotion, video_bvid)
        VALUES
        <foreach collection="list" index="index" separator="," item="item">
            (#{item.userId},#{item.userName},#{item.userIp},#{item.userSex},#{item.commentDate},#{item.commentText},
            #{item.commentLike},#{item.commentReply},#{item.commentEmotion},#{item.videoBvid})
        </foreach>
    </insert>

    <select id="selectAllComments" resultMap="CommentResultMap">
        select *
        from comment
    </select>

    <select id="selectAllByVideoBvid" resultMap="CommentResultMap">
        select *
        from comment
        where video_bvid = #{bv}
    </select>
    <select id="selectByCommentId" resultMap="CommentResultMap">
        select *
        from comment
        where comment_id = #{id}
    </select>
</mapper>